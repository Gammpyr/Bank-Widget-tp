# Bank Widget (курсовая)


## Описание:
Виджет для банка, разрабатываемый во время обучения языку Python.

## Содержание

- [Основные функции](#основные-функции)
- [Установка](#установка)
- [Тестирование](#тестирование)


## Основные функции:

[main.py](src/main.py)

'Главная функция'


[reports.py](src/reports.py)
1. `report_to_selected_file` - (Декоратор) Записывает данные отчета в файл с указанным названием
2. `spending_by_category` - Функция возвращает траты по заданной категории за последние три месяца

[services.py](src/services.py)
1. `get_high_cashback_categories` - Анализирует наиболее выгодные функции кэшбэка
2. `investment_bank` - Возвращает сумму, которую удалось бы отложить в «Инвесткопилку»

[utils.py](src/utils.py)
1. `get_data_from_excel` - Читает XLSX-файл и возвращает список словарей
2. `get_greetings_by_time` - Возвращает приветствие, в зависимости от текущего времени
3. `convert_date_to_datetime` - Принимает дату в виде строки и возвращает эту строку в формате datetime
4. `get_exchange_rate` - Возвращает список словарей, с курсом валют указанных в файле user_settings.json
5. `get_stock_price` - Возвращает список словарей, с курсом акций указанных в файле user_settings.json
6. `filter_transaction` - Фильтрует DF, оставляя только выполненные операции с расходами
7. `get_cards_info` - Принимает имя файла в папке ..data/ и возвращает список словарей с каждой картой в файле, суммой транзакций
    и кэшбэком по этой карте
8. `get_top5_transaction_info` - Возвращает топ-5 транзакций по сумме платежа
9. `get_df_data_from_file` - Принимает имя файла в папке /data и возвращает DataFrame объект
10. `cash_and_transfers_count` - Считает расходы наличными и переводы
11. `most_spending_filter` - Принимает DF и возвращает список словарей с 7 самыми популярными категориями
12. `get_income_category` - Принимает DF и возвращает список словарей с суммами поступлений
13. `filter_data_by_range` - Фильтрует DF по указанной дате

[views.py](src/views.py)
1. `main_web` - Главная функция для веб-интерфейса
2. `main_events` - Главная функция для событий с возможностью фильтрации по периоду

## Установка:

1. Клонируйте репозиторий:
```
git clone https://github.com/Gammpyr/Bank-Widget-tp
```
2. Установите Poetry
```
pip install poetry

poetry init
```
3. Установите зависимости:
```
poetry install
```

## Тестирование
В проекте используется фреймворк Pytest. Для установки и запуска выполните команды:
```
poetry add --group dev pytest
```
```
poetry run pytest
```
